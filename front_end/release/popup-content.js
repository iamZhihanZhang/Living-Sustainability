(()=>{"use strict";var e={d:(n,i)=>{for(var t in i)e.o(i,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:i[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};function n(e){let n=e;const i=function(e){const n=e.split(".");return n.length>2?n.slice(-2).join("."):e}(window.location.hostname);return console.log("currentDomain = "+i),!!n.includes(i)}function i(e){return e<1?{weight:parseFloat((100*e).toFixed(2)),unit:"g"}:e>=1e3?{weight:parseFloat((e/1e3).toFixed(2)),unit:"tons"}:{weight:parseFloat(e.toFixed(2)),unit:"kg"}}function t(e){const n=parseFloat(e);return e.includes("TB")?1024*n:e.includes("GB")?n:e.includes("MB")?n/1024:n}function s(e,n){const i=parseInt(e),t=parseInt(n);return isNaN(i)||isNaN(t)?null:i<t?"one":i>t?"two":void 0}function c(e,n=2){if(0===e)return"0";const i=Math.floor(Math.log10(Math.abs(e))),t=Math.pow(10,i-n+1),s=Math.round(e/t)*t,c=Math.max(0,n-i-1);return s.toFixed(c)}e.d({},{bS:()=>Y});const o="https://lca-server-api.fly.dev";function a(e){const n=e.findIndex((e=>"--"!==e.co2e));-1!==n&&(e[n].mostEco=!0)}function l(e){console.log("OBSERVING FEDEX SHIPPING OPTIONS ðŸ’©"),new MutationObserver(((n,i)=>{for(const t of n)if("childList"===t.type&&document.querySelector(".fdx-c-definitionlist__description--small")){i.disconnect(),e();break}})).observe(document.body,{childList:!0,subtree:!0})}function r(){document.querySelectorAll("input, select, textarea").forEach((e=>{"package-details__package-type"!==e.id&&"fromGoogleAddress"!==e.id&&"toGoogleAddress"!==e.id&&(e.addEventListener("change",u),e.addEventListener("input",u))}))}function d(){const e=document.getElementById("package-details__package-type");e&&e.addEventListener("change",(()=>{const e=document.getElementById("package-details__weight-0"),n=document.getElementById("package-details__quantity-0");e.addEventListener("input",u),n.addEventListener("input",u)}))}function u(){const e=document.getElementById("e2ePackageDetailsSubmitButtonRates");e&&!e.classList.contains("lca-viz-observing")&&(e.addEventListener("click",(()=>{Y()})),e.classList.add("lca-viz-observing"))}function p(e,n){const i=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n(e.target)}))}));return i.observe(e,{attributes:!0}),i.disconnect}const v=chrome.runtime.getURL("../../../assets/img/airplane-icon.png"),g=chrome.runtime.getURL("../../../assets/img/truck-icon.png"),m=chrome.runtime.getURL("../../../assets/img/question-icon.png"),f="https://lca-server-api.fly.dev",z=chrome.runtime.getURL("../../../assets/img/lca-48.png");async function h(e){try{const n=await fetch(f+"/api/freight",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)return console.log(`HTTP error! Status: ${n.status}`),null;const i=await n.json();return console.log("API Response: ",i),i}catch(e){console.error("Error:",e)}}function b(e,n,i,t){let s;"air"===i&&(s=[{transport_mode:"road"},{transport_mode:"air"},{transport_mode:"road"}]),"ground"===i&&(s=[{transport_mode:"road"}]);let c=[{location:{query:n}}],o=[{weight:t,weight_unit:"kg"}];return{route:[{location:{query:e}}].concat(s).concat(c),cargo:o[0]}}const x=chrome.runtime.getURL("../../assets/img/lca-48.png");function y(e,n=!1){n&&(e=document);const i=e.getElementById("lca-viz-unit-select"),t=e.querySelectorAll(".lca-viz-unit-container");let s=0;i&&t?(console.log("CALLING handleCO2EquivalencyChange"),t.forEach((e=>{e.children[s].classList.add("lca-viz-show")})),i.addEventListener("change",(e=>{const n=parseInt(e.target.value);var i;console.log("selectedIndex = "+n),i=n,t.forEach((e=>{console.log("currentIndex = "+s),console.log("newIndex = "+i);const n=e.children[s],t=e.children[i];console.log("unitDivs = "),console.dir(n),n.classList.remove("lca-viz-show"),n.classList.add("lca-viz-hide"),setTimeout((()=>{n.classList.remove("lca-viz-hide"),t.classList.add("lca-viz-show"),s=i}),300)}))}))):console.log("handleCO2EquivalencyChange CANNOT be called")}function L(e,n){"a"===n?(e.classList.remove("lcz-visible-a"),e.classList.add("lcz-hidden-a")):"b"===n&&(e.classList.remove("lcz-visible-b"),e.classList.add("lcz-hidden-b"))}function w(e,n){"a"===n?(e.classList.contains("flex-center")?e.style.display="flex":e.style.display="block",requestAnimationFrame((()=>{e.classList.remove("lcz-hidden-a"),e.classList.add("lcz-visible-a")}))):"b"===n&&(e.classList.contains("flex-center")?e.style.display="flex":e.style.display="block",requestAnimationFrame((()=>{e.classList.remove("lcz-hidden-b"),e.classList.add("lcz-visible-b")})))}const P=chrome.runtime.getURL("../../../assets/img/question-icon.png"),E=chrome.runtime.getURL("../../../assets/img/most-green-icon.png"),S=chrome.runtime.getURL("../../../assets/img/equivalent-icon.png"),$=chrome.runtime.getURL("../../../assets/img/red-trash-icon.png");function M(e){return e.method&&"given"===e.method?`\n      <div class="lca-viz-txt-source pdt-12">\n        <a href="${e.source}" class="lca-link fz-16" target="_blank">Data source</a>\n      </div>`:"<div></div>"}function q(e,n){new MutationObserver((()=>{const i=e.textContent.trim();n(i)})).observe(e,{childList:!0,subtree:!0})}function C(e,n,i){new MutationObserver(((t,s)=>{t.forEach((t=>{"childList"===t.type&&t.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&t.textContent.includes(e)&&n.some((e=>t.classList.contains(e)))&&(i(t),s.disconnect())}))}))})).observe(document.body,{childList:!0,subtree:!0})}function T(e,n){document.querySelectorAll(e).forEach((e=>{if(e.textContent===n)return e}))}const F="https://lca-server-api.fly.dev",A=chrome.runtime.getURL("../../../assets/img/question-icon.png"),O=chrome.runtime.getURL("../../../assets/img/sync-icon.png");const I="https://lca-server-api.fly.dev";async function k(e,n,i){let t="";"air"===n&&(t="/post-google-maps-air"),"ground"===n&&(t="/post-google-maps-ground"),(await fetch(I+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(console.log("Data sent successfully"),i()):console.error("Failed to send data")}function G(e,n){const i=document.createElement("iframe");let t;"air"===n&&(console.log("INJECTING AIR MAP"),i.src="https://lca-server-api.fly.dev/air-map.html",i.id="lca-viz-air-map",t=e.querySelector(".lca-viz-google-maps-air")),"ground"===n&&(i.src="https://lca-server-api.fly.dev/ground-map.html",i.id="lca-viz-ground-map",console.log("INJECTING GROUND MAP"),t=e.querySelector(".lca-viz-google-maps-ground")),i.style.width="350px",i.style.height="170px",i.style.border="none",i.style.overflow="hidden",i.scrolling="no",t.appendChild(i)}const N=chrome.runtime.getURL("../assets/img/lca-48.png");let j,_,H=null,B=null,R=null,U="Waiting for input....",D="Waiting for input....",W=!1,V=0;function J(){""!==U&&""!==D&&"Waiting for input...."!==U&&"Waiting for input...."!==D&&W&&function(e){const n=e.querySelector(".lca-viz-number-input-container"),i=e.getElementById("lca-viz-number-input");return!!(i.value&&i.value>0)||!!n.classList.contains("lca-viz-hidden")}(R)?R.querySelector(".lca-viz-calculate-container").classList.remove("disabled"):R.querySelector(".lca-viz-calculate-container").classList.add("disabled")}async function X(){if(""!==U&&""!==D){await async function(){R.querySelector(".lca-viz-cloud-master-container")||(await K("cloud"),function(){const e=R.querySelector(".lca-viz-calculate-btn"),n=R.querySelector(".lca-viz-calculate-btn-txt");let i;e.addEventListener("click",(async()=>{let e=0;i=setInterval((()=>{e=(e+1)%4,n.textContent="Calculating"+".".repeat(e)}),500);try{const e=await async function(e,n,i){const t=function(e){let n=e.replace(/\(.*?\)\s*/,"");return n=n.toLowerCase(),n=n.replace(/\s+/g,"_"),n}(e),s=n.toLowerCase(),c=30*parseInt(i),o={region:t,instance:s,duration:c,duration_unit:"h"};if(console.log("input data: ",o),t&&s&&c){const e=await fetch(F+"/api/cloud",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});let n;return n=e.ok?await e.json():"",console.log("responseData: ",n),n}}(U,D,V),n={emissions:e.total_co2e,region:U,instance:D,duration:V};t=function(e,n){let i,t,s,o,a,l,r,d,u,p,v;"cloud"===n?(i=e.emissions,r=e.region,d=e.instance,u=e.duration):"energy"===n&&(i=e.emissions,t=e.device_process,s=e.power,o=e.duration,a=e.duration_unit,"s"===a&&(a="second(s)"),"min"===a&&(a="minute(s)"),"h"===a&&(a="hour(s)"),l=e.location,s=c(s)),p=c(2.5*i),v=c(.048*i);const g=!l||""===l;let{beefValue:m,beefUnit:f}=function(e){let n,i,t="kg";return i=.033*e,n=i,i<.001?(n=1e6*i,t="mg"):(n=1e3*i,t="g"),n=c(n),{beefValue:n,beefUnit:t}}(i);const z=(h=i)<1?{co2e_value:parseFloat((1e3*h).toFixed(2)),unit:"g CO2e"}:h>=1e3?{co2e_value:parseFloat((h/1e3).toFixed(2)),unit:"t CO2e"}:{co2e_value:parseFloat(h.toFixed(2)),unit:"kg CO2e"};var h;return`\n    <div class="lca-viz-cloud-emissions-container lcz-hidden-a">\n      <section class="lca-viz-cloud-container lcz-br-8">\n        <div class="lca-viz-cloud-results-info-container pd-16 lcz-mt-12 lcz-hidden-a">\n          <div class="flex-stretch lca-viz-title-and-question lcz-mt-8">\n            <p class="fz-16 lcz-mt-0 lcz-mb-0"><b>Estimated Carbon Footprint of Use</b></p>\n            <div class="btn lca-viz-btn-primary lca-viz-tooltip"><img src="${A}" alt="Hover me to get additional information" class="lcz-icon-20" id="lca-viz-q-icon">\n              <div class="left">\n                ${"cloud"===n?'<h3 class="fz-12 lca-lexend">How we estimate cloud computing emissions</h3>':'<h3 class="fz-12 lca-lexend">How we estimate the emissions of use</h3>'}\n\n                ${"cloud"===n?'<p class="fz-12 lca-lexend">The total carbon footprint of cloud instance usage consists of both operational and embodied emissions. Operational emissions are calculated by multiplying your instance usage by the provider\'s energy conversion factors and Power Usage Effectiveness (PUE), then applying regional power grid emissions factors. We combine this with embodied emissions, which account for the manufacturing impact of datacenter servers allocated to your compute usage.  This estimation uses Microsoft Sustainability Calculator, Cloud Carbon Footprint, and Climatiq.':'<p class="fz-12 lca-lexend">The carbon footprint of use is determined based on the device or process\'s power consumption, usage duration, and the geographical location of use. If no location is specified, the default assumption is the United States.'}\n                <i></i>\n              </div>\n            </div>\n          </div>\n\n\n          <div class="flex-center cg-8 fz-16 lcz-mb-12">\n            <p>CO2e Equivalency: </p>\n            <select id="lca-viz-unit-select" class="lcz-br-4 pd-4">\n              <option value="0">Miles driven ðŸš—</option>\n              <option value="1">Trees offset ðŸŒ³</option>\n              <option value="2">Beef Consumed ðŸ¥©</option>\n            </select>\n          </div>\n\n          ${i?`<div class="freight-emissions flex-column-center lcz-br-8 rg-12 pd-16">\n              <span class="fz-20 co2e-value"><b><span id="lcz-root-emissions">${z.co2e_value} ${z.unit}</span> <span class="fz-12">${"cloud"===n?"(per month)":""}</span></b></span>\n\n              <div class="lca-viz-unit-container cloud flex-center cg-4">\n                <div class="lca-viz-unit-div">\n                  <div class="flex-center lca-viz-justify-center cg-8">\n                    <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or <span id="lcz-miles">${p}</span> miles driven by a car &nbsp;ðŸš—</p>\n                  </div>\n                </div>\n\n                <div class="lca-viz-unit-div">\n                  <div class="flex-center lca-viz-justify-center cg-8">\n                    <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or <span id="lcz-trees">${v}</span> trees annually &nbsp;ðŸŒ³</p>\n                  </div>\n                </div>\n\n                <div class="lca-viz-unit-div">\n                  <div class="flex-center lca-viz-justify-center cg-8">\n                    <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or <span id="lcz-beef">${m} ${f}</span> of beef consumed &nbsp;ðŸ¥©</p>\n                  </div>\n                </div>\n              </div>\n            </div>`:'<div class="freight-emissions flex-column-center lcz-br-8 rg-12 pd-16">\n              <span class="fz-20 co2e-value"><b>Data unavailable</b></span>\n              <div class="flex-center cg-4">\n                <span class="trash-value fz-16">Region or instance is not supported.</span>\n              </div>\n            </div>'}\n\n          ${"cloud"===n?`\n              <p class="fz-16 lcz-mb-2"><b>Region:</b> <br>\n                <div class="flex-center cg-8">\n                  <span id="lca-viz-cloud-region-value" class="fz-12">${r}</span>\n                </div>\n              </p>\n              <p class="fz-16 lcz-mb-2"><b>Server Instance Type:</b> <br>\n                <div class="flex-center cg-8">\n                  <span id="lca-viz-cloud-instance-value" class="fz-12">${d}</span>\n                </div>\n              </p>\n              <p class="fz-16 lcz-mb-2"><b>Usage Rate:</b> <br>\n                <span class="fz-12">${u} hours per day</span>\n              </p>\n            `:`\n              <p class="fz-16 lcz-mb-2"><b>Device / Process:</b> <br>\n                <div class="flex-center cg-8">\n                  <span id="" class="fz-12">${t}</span>\n                </div>\n              </p>\n              <p class="fz-16 lcz-mb-2"><b>Usage Duration:</b> <br>\n                <div class="flex-center cg-8">\n                  <span class="fz-12"><span id="lca-viz-e-time-val">${o}</span> ${a}</span>\n                </div>\n              </p>\n              ${g?"":`<p class="fz-16 lcz-mb-2"><b>Location:</b> <br>\n                  <span class="fz-12">${l}</span>\n                </p>`}\n              <p class="fz-16 lcz-mb-2"><b>Power:</b> <br>\n                <span class="fz-12">${s} W</span>\n              </p>\n            `}\n        </div>\n        ${"energy"===n?'<div class="lcz-loading-box-3 flex-center lcz-br-8 pd-16 lcz-mt-12">\n            <div class="lcz-loader">\n              <div class="lca-viz-circle"></div>\n              <div class="lca-viz-circle"></div>\n              <div class="lca-viz-circle"></div>\n            </div>\n          </div>':""}\n      </section>\n    </div>\n  `}(n,"cloud"),R.querySelector(".lca-viz-cloud-master-container").classList.add("lcz-hidden-a"),H.insertAdjacentHTML("beforeend",t),y(R),requestAnimationFrame((async()=>{R.querySelector(".lca-viz-cloud-emissions-container").classList.remove("lcz-hidden-a"),w(R.querySelector(".lca-viz-cloud-results-info-container"),"a")}))}finally{clearInterval(i),n.textContent="Calculate"}var t}))}(),function(){let e=R.querySelector(".lca-viz-yes-button"),n=R.querySelector(".lca-viz-no-button");e.addEventListener("click",(()=>{n.classList.remove("selected"),e.classList.add("selected"),W=!0,R.querySelector(".lca-viz-number-input-container").classList.add("lca-viz-hidden"),V=24,J()})),n.addEventListener("click",(()=>{e.classList.remove("selected"),n.classList.add("selected"),W=!0,R.querySelector(".lca-viz-number-input-container").classList.remove("lca-viz-hidden"),J();const i=R.getElementById("lca-viz-number-input");i.addEventListener("input",(()=>{V=i.value,J()}))}))}())}();let e=R.getElementById("lca-viz-cloud-region-value"),n=R.getElementById("lca-viz-cloud-instance-value");e&&n&&(e.textContent=U,n.textContent=D,J())}}async function Z(){C("Region",["azc-form-label"],(e=>{console.log("Azure: Observing region"),setTimeout((()=>{const n=e?.parentElement?.parentElement?.childNodes?.[1]?.childNodes?.[0]?.childNodes?.[1].childNodes?.[1];n&&(U=n.textContent.trim(),q(n,(async e=>{const n=T(".azc-form-label","Size")?.parentElement?.parentElement?.childNodes?.[1]?.childNodes?.[0]?.childNodes?.[1].childNodes?.[1];n&&(D=n.textContent.trim()),U=e,await X()})))}),1e3)})),C("Size",["azc-form-label"],(e=>{console.log("Azure: Observing size"),setTimeout((()=>{const n=e?.parentElement?.parentElement?.childNodes?.[1]?.childNodes?.[0]?.childNodes?.[1].childNodes?.[1];n&&(D=n.textContent.trim(),q(n,(async e=>{const n=T(".azc-form-label","Region")?.parentElement?.parentElement?.childNodes?.[1]?.childNodes?.[0]?.childNodes?.[1].childNodes?.[1];n&&(D=n.textContent.trim()),D=function(e){let n=e.replace(/^Standard_/,"");return n=n.split(" ")[0],n=n.replace(/-/g,"_"),n}(e),await X()})))}),1e3)}))}async function K(e,n=null,c=null,o=null){const l=`\n    <section class="lca-banner flex-stretch">\n      <div class="flex-center title-container lcz-br-8 pd-12">\n        <img src="${x}" alt="LCA Image" class="lcz-icon-20">\n        <p class="title-text fz-20 eco-bold lca-viz-text-align-center"><b>Living Sustainability</b></p>\n      </div>\n      <div class="flex-center lca-viz-close-container lcz-br-8 pd-16">\n        <svg class="lcz-icon-20" width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      </div>\n    </section>\n  `;H||(H=c),R||(R=o),H.insertAdjacentHTML("beforeend",l);const r=`\n    <div class="flex-center lca-viz-floating-lca-menu pd-12 lcz-br-8 lcz-hidden-b" id="lca-viz-floating-menu">\n      <img src="${N}" alt="LCA Image" class="floating-lca-img lcz-icon-24">\n    </div>\n  `;if(H.insertAdjacentHTML("beforebegin",r),B=R.getElementById("lca-viz-floating-menu"),function(){console.log("toggle button state");const e=R.querySelector(".lca-viz-close-container"),n=R.getElementById("lca-viz-floating-menu");e.addEventListener("click",(()=>{L(H,"b"),w(n,"b")})),n.addEventListener("click",(()=>{L(n,"b"),w(H,"b")}))}(),"phone"===e){const e='\n    <div class="phone-master-container">\n      <section class="phone-container lcz-br-8 pd-16 lcz-mt-12 lcz-hidden-a">\n        <div class="lcz-loading-box flex-center lcz-br-8 pd-16 lcz-mt-12">\n          <div class="lcz-loader">\n            <div class="lca-viz-circle"></div>\n            <div class="lca-viz-circle"></div>\n            <div class="lca-viz-circle"></div>\n          </div>\n        </div>\n        <section class="phone-spec-container fz-20 lcz-mt-12 lcz-hidden-a"></section>\n      </section>\n\n      <section class="compare-phone lcz-br-8 lcz-hidden-a">\n        <div class="lcz-mt-24 lcz-mb-16 lca-viz-competitor-section">\n          <p class="lcz-margin-0 fz-20 lcz-mb-16 pdl-4"><b>Compare similar phones:</b></p>\n          <div class="lca-viz-competitor-container rg-12"></div>\n        </div>\n      </section>\n\n      <section class="lcz-side-by-side-section lcz-hidden-a lcz-mt-12">\n        <div class="side-by-side-container flex-center">\n          <div class="lcz-side-by-side-spec-container lcz-grid-1fr-1fr cg-12"></div>\n        </div>\n      </section>\n    </div>\n  ';H.insertAdjacentHTML("beforeend",e),setTimeout((async()=>{H.classList.remove("lca-viz-hidden"),await async function(){R.querySelector(".phone-container").classList.remove("lcz-hidden-a"),await ne();const e=R.querySelector(".phone-spec-container"),n=R.querySelector(".compare-phone");w(e,"a"),n.classList.remove("lcz-hidden-a"),H.focus(),function(e,n){const i=e;console.log("phone data = "),console.log(i);const t=n.querySelector(".phone-spec-container"),s=i.specs,c=i.device;t.innerHTML+=`\n    <div class="flex-stretch lca-viz-title-and-question lcz-mt-8">\n      <p class="phone-spec-title" id="currentPhone"><b>${c} Estimated Carbon Emissions</b></p>\n      <div class="btn lca-viz-btn-primary lca-viz-tooltip"><img src="${P}" alt="Hover me to get additional information" class="lcz-icon-20" id="lca-viz-q-icon">\n        <div class="left">\n          <h3 class="fz-12 lca-lexend">How are phone emissions calculated?</h3>\n          <p class="fz-12 lca-lexend">We use data from phone companies' product carbon footprint reports. If there is no data, a large language model (LLM) is used to estimate emissions based on publicly available data online.</p>\n          <i></i>\n        </div>\n      </div>\n    </div>\n    <div class="flex-center cg-8 fz-16">\n      <p>CO2e Equivalency: </p>\n      <select id="lca-viz-unit-select" class="lcz-br-4 pd-4">\n        <option value="0">Miles driven ðŸš—</option>\n        <option value="1">Trees offset ðŸŒ³</option>\n        <option value="2">Beef Consumed ðŸ¥©</option>\n      </select>\n    </div>\n  `;let o=s[0];s.forEach(((e,n)=>{0!==n&&parseFloat(e.co2e)<parseFloat(o.co2e)&&(o=e)})),s.forEach(((e,n)=>{const i=parseFloat(e.co2e),s=parseFloat(o.co2e),c=(i-s)/s*100,a=e.storage===o.storage;t.innerHTML+=`\n      <div class="lcz-details-container fz-16" id=${n+"-c"}>\n        <div class="flex-center ${a?"most-green":""} cg-4">\n          <p><b>${e.storage} </b>&nbsp;</p>\n          ${a?`<img src="${E}" class="lcz-icon-16 emissions-diff-minus lcz-br-4 lcz-margin-0 lca-viz-MEF" title="This is the most eco-friendly option" alt="Most eco-friendly option">`:`<span class="emissions-diff-plus fz-12 lcz-br-4 lcz-margin-0"><b>(+${c.toFixed(0)}% emissions)</b></span>`}\n        </div>\n        <div class="flex-center co2e-data-container pd-8 lcz-br-8 cg-4 lca-viz-lexend-reg">\n          <p class="lcz-margin-0">${i} kg CO2e</p>\n          <img src="${S}" class="lcz-icon-16" alt="Equivalent to">\n          <div class="lca-viz-unit-container phone flex-center cg-4">\n\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">${Math.ceil(2.5*i)} miles driven by a car &nbsp;ðŸš—</p>\n              </div>\n            </div>\n\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">${(.048*i).toFixed(1)} trees annually &nbsp;ðŸŒ³</p>\n              </div>\n            </div>\n\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">${(.033*i).toFixed(2)} kg of beef consumed &nbsp;ðŸ¥©</p>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      `}));const a=M(e);t.innerHTML+=a,y(n)}(j,R),await async function(){await async function(){const e=_,n=R.querySelector(".lca-viz-competitor-container");n.innerHTML="",e.forEach((e=>{const i=`\n      <div class="lca-viz-competitor-phone lcz-br-8" id="${e.index}">\n        <p class="fz-16">${e.device}</p>\n      </div>\n    `;n.innerHTML+=i}))}();const e=R.querySelectorAll(".lca-viz-competitor-phone"),n=R.querySelector(".lca-viz-competitor-section");e.forEach((e=>{e.addEventListener("click",(()=>{const i=parseInt(e.id);console.log("phone Id = "+i),n.classList.add("lcz-hidden-a"),console.log("currentPhoneData before passing on to phone-utils: ",j),function(e,n,i,c){const o=n,l=i.find((n=>n.index===e)),r=c.querySelector(".lcz-side-by-side-section"),d=c.querySelector(".phone-container");let u=c.querySelector(".lcz-side-by-side-spec-container");u.innerHTML="",u.innerHTML+=`\n    <p class="lcz-margin-0 lcz-side-phone-text fz-16"><b>${o.device}</b></p>\n    <p class="lcz-margin-0 lcz-side-phone-text fz-16"><b>${l.device}</b></p>\n    <img src="${$}" class="lcz-icon-16 lcz-trash-btn" alt="remove device">\n  `;let p=function(e,n){const i=new Set([...e.map((e=>e.storage)),...n.map((e=>e.storage))]),s=Array.from(i).sort(((e,n)=>t(e)-t(n))),c=[],o=[];s.forEach((i=>{const t=e.find((e=>e.storage===i)),s=n.find((e=>e.storage===i));c.push(t||{storage:i,co2e:"--"}),o.push(s||{storage:i,co2e:"--"})}));for(let e=0;e<c.length;e++)"--"==c[e].co2e&&(c[e].storage="--"),"--"==o[e].co2e&&(o[e].storage="--");return a(e),a(n),[c,o]}(o.specs,l.specs),v=p[0],g=p[1];for(let e=0;e<v.length;e++){const n=s(v[e].co2e,g[e].co2e);u.innerHTML+=`\n      <div class="lcz-details-container fz-16">\n        <div class="flex-center most-green cg-4">\n          <p><b>${v[e].storage}</b>&nbsp;</p>\n          ${v[e].mostEco?`<img src="${E}" class="lcz-icon-16 emissions-diff-minus lcz-br-4 lcz-margin-0 lca-viz-MEF" title="This is the most eco-friendly option" alt="Most eco-friendly option">`:""}\n        </div>\n        <div class="flex-center co2e-data-container pd-8 lcz-br-8 cg-4 lca-viz-lexend-reg ${"one"===n?"greener":""}">\n          <p class="lcz-margin-0">${"--"!==v[e].co2e?v[e].co2e+" kg CO2e":"--"} </p>\n        </div>\n      </div>\n      <div class="lcz-details-container fz-16">\n        <div class="flex-center most-green cg-4">\n          <p><b>${g[e].storage}</b>&nbsp;</p>\n          ${g[e].mostEco?`<img src="${E}" class="lcz-icon-16 emissions-diff-minus lcz-br-4 lcz-margin-0 lca-viz-MEF" title="This is the most eco-friendly option" alt="Most eco-friendly option">`:""}\n        </div>\n        <div class="flex-center co2e-data-container pd-8 lcz-br-8 cg-4 lca-viz-lexend-reg ${"one"===n?"":"two"===n?"greener":""}">\n          <p class="lcz-margin-0">${"--"!==g[e].co2e?g[e].co2e+" kg CO2e":"--"}</p>\n        </div>\n      </div>\n    `}const m=M(o),f=M(l);u.innerHTML+=m,u.innerHTML+=f;const z=c.querySelector(".lca-viz-competitor-section");u.querySelector(".lcz-trash-btn").addEventListener("click",(()=>{L(r,"a"),requestAnimationFrame((()=>{d.classList.remove("lcz-hidden-a"),d.classList.add("lcz-visible-a")})),z.classList.remove("lcz-hidden-a")})),c.querySelector(".lca-banner").insertAdjacentElement("afterend",r),d.classList.contains("lcz-hidden-a")?(L(r,"a"),w(r,"a")):(L(d,"a"),w(r,"a"))}(i,j,_,R)}))}))}()}()}),0)}else if("freight"===e){const e=function(e){if(!e)return'<div class="freight-container lcz-br-8 pd-16 lcz-mt-12">\n      <div class="lcz-loading-box-2 flex-center lcz-br-8 pd-16 lcz-mt-12 lcz-hidden-a">\n        <div class="lcz-loader">\n          <div class="lca-viz-circle"></div>\n          <div class="lca-viz-circle"></div>\n          <div class="lca-viz-circle"></div>\n        </div>\n      </div>\n      <div class="freight-content lcz-visible-a" style="display: block;">\n        <div class="flex-stretch lca-viz-title-and-question lcz-mt-8">\n          <p class="fz-16 lcz-mt-0 lcz-mb-16"><b>The shipping data cannot be found</b></p>\n          <div class="btn lca-viz-btn-primary lca-viz-tooltip"><img src="chrome-extension://moaglnlpoploemkipmdjfmhcjfbandkm/../assets/img/question-icon.png" alt="Hover me to get additional information" class="lcz-icon-20" id="lca-viz-q-icon">\n            <div class="left">\n              <h3 class="fz-12 lca-lexend">How are package emissions calculated?</h3>\n              <p class="fz-12 lca-lexend">We are using Climatiq\'s Intermodal Services, which collects data from various sources to calculate the shipping emissions, including GLEC v3 Framework, ISO 14083 standard, Emission Factor Database (EFDB), OpenStreetMap, and more.</p>\n              <i></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>';const n=e.from,t=e.to,s=e.air,c=e.ground;let o="",a="",l="";if(s&&c){const e=s.co2eValue,n=c.co2eValue,i=parseInt((e-n)/n*100);l=e>n?`<p class="emissions-diff-plus fz-12 lcz-br-4 lcz-margin-0"><b>+${i}% emissions</b></p>`:`<p class="emissions-diff-minus fz-12 lcz-br-4 lcz-margin-0"><b>-${i}% emissions</b></p>`}function r(e){return e.split(" ").map((e=>"fedex"===e.toLowerCase()?"FedEx":["3day","2day","1day"].includes(e.toLowerCase())?e.charAt(0)+"Day":"am"===e.toLowerCase()?"AM":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}let d="Estimated Carbon Footprint of Transport";if(s){const e=s.co2eValue;let n=e/1.15;n=i(n).weight;const t=s.airMode.map(r).join(", ");o=`\n      <div class="options-container">\n        <p class="shipping-options fz-12 lcz-mb-4">\n          <img src="${v}" class="lcz-icon-14 align-middle" alt="airplane icon">\n          <b>By Air: </b>\n        </p>\n        ${l}\n        <p class="fz-12 lcz-mt-4 lcz-mb-4">${t}</p>\n        <div class="freight-emissions flex-column-center lcz-br-8 rg-12 pd-16">\n          <span class="fz-20 co2e-value lcz-mt-4"><b>${e} kg CO2e</b></span>\n          <div class="lca-viz-unit-container freight flex-center cg-4">\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or ${Math.ceil(2.5*e)} miles driven by a car &nbsp;ðŸš—</p>\n              </div>\n            </div>\n\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or ${(.048*e).toFixed(1)} trees annually &nbsp;ðŸŒ³</p>\n              </div>\n            </div>\n\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or ${(.033*e).toFixed(2)} kg of beef consumed &nbsp;ðŸ¥©</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="lca-viz-google-maps-air flex-center lcz-mt-8"></div>\n      </div>\n    `}if(c){const e=c.co2eValue;let n=e/1.15;n=i(n).weight,console.log("ground shipping options = "+c.groundMode);const t=c.groundMode.map(r).join(", ");a=`\n      <div class="options-container">\n        <p class="shipping-options fz-12 lcz-mb-4">\n          <img src="${g}" class="lcz-icon-14 align-middle" alt="truck icon">\n          <b>By Ground: </b>\n        </p>\n        \n        <p class="fz-12 lcz-mt-4 lcz-mb-4">${t}</p>\n        <div class="freight-emissions flex-column-center lcz-br-8 rg-12 pd-16">\n          <span class="fz-20 co2e-value lcz-mt-4"><b>${e} kg CO2e</b></span>\n          <div class="lca-viz-unit-container freight flex-center cg-4">\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or ${Math.ceil(2.5*e)} miles driven by a car &nbsp;ðŸš—</p>\n              </div>\n            </div>\n\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or ${(.048*e).toFixed(1)} trees annually &nbsp;ðŸŒ³</p>\n              </div>\n            </div>\n\n            <div class="lca-viz-unit-div">\n              <div class="flex-center lca-viz-justify-center cg-8">\n                <p class="lcz-margin-0 lcz-grey-text fz-16 lca-viz-text-align-center">or ${(.033*e).toFixed(2)} kg of beef consumed &nbsp;ðŸ¥©</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="lca-viz-google-maps-ground flex-center lcz-mt-8"></div>\n      </div>\n    `}return s||c||(d="We're unable to determine the carbon emissions for the specified locations."),`\n    <div class="freight-container lcz-br-8 pd-16 lcz-mt-12 lcz-hidden-a">\n      <div class="lcz-loading-box-2 flex-center lcz-br-8 pd-16 lcz-mt-12">\n        <div class="lcz-loader">\n          <div class="lca-viz-circle"></div>\n          <div class="lca-viz-circle"></div>\n          <div class="lca-viz-circle"></div>\n        </div>\n      </div>\n      <div class="freight-content lcz-hidden-a">\n\n        <div class="flex-stretch lca-viz-title-and-question lcz-mt-8">\n          <p class="fz-16 lcz-mt-0 mb-16"><b>${d}</b></p>\n          <div class="btn lca-viz-btn-primary lca-viz-tooltip"><img src="${m}" alt="Hover me to get additional information" class="lcz-icon-20" id="lca-viz-q-icon">\n            <div class="left">\n              <h3 class="fz-12 lca-lexend">How are package emissions calculated?</h3>\n              <p class="fz-12 lca-lexend">We are using Climatiq's Intermodal Services, which collects data from various sources to calculate the shipping emissions, including GLEC v3 Framework, ISO 14083 standard, Emission Factor Database (EFDB), OpenStreetMap, and more.</p>\n              <i></i>\n            </div>\n          </div>\n        </div>\n\n        <div class="flex-center cg-8 fz-16">\n          <p>CO2e Equivalency: </p>\n          <select id="lca-viz-unit-select" class="lcz-br-4 pd-4">\n            <option value="0">Miles driven ðŸš—</option>\n            <option value="1">Trees offset ðŸŒ³</option>\n            <option value="2">Beef Consumed ðŸ¥©</option>\n          </select>\n        </div>\n        <div>\n          ${a}\n          ${o}\n        </div>\n        <div class="shipping-container">\n          <p class="fz-12"><b>Transport Details</b></p>\n          <div class="shipping-info fz-12">\n            <p class="from-to-text"><b>From:</b> <span id="f-from">${n}</span></p>\n            <p class="from-to-text"><b>To:</b> <span id="t-to">${t}</span></p>\n          </div>\n        </div>\n      </div>\n    </div>\n  `}(n.formatted);H.insertAdjacentHTML("beforeend",e),setTimeout((()=>{y(R),H.classList.remove("lca-viz-hidden"),async function(){R.querySelector(".freight-container").classList.remove("lcz-hidden-a"),H.focus(),await ie();w(R.querySelector(".freight-content"),"a")}()}),0),await async function(e,n,i){n&&await k(n,"air",(()=>{G(e,"air")})),i&&await k(i,"ground",(()=>{G(e,"ground")}))}(R,n.originalAir,n.originalGround)}else if("cloud"===e){const e=function(e,n){return`\n    <div class="lca-viz-cloud-master-container lcz-hidden-a">\n      <section class="lca-viz-cloud-container lcz-br-8">\n        <div class="lcz-loading-box-3 flex-center lcz-br-8 pd-16 lcz-mt-12">\n          <div class="lcz-loader">\n            <div class="lca-viz-circle"></div>\n            <div class="lca-viz-circle"></div>\n            <div class="lca-viz-circle"></div>\n          </div>\n        </div>\n        <div class="lca-viz-cloud-info-container pd-16 lcz-mt-12 lcz-hidden-a">\n          <p class="fz-20 lcz-margin-0"><b>Cloud Instance Carbon Emissions</b></p>\n          <p class="fz-16 lcz-mb-2"><b>Region:</b> <br>\n            <div class="flex-center cg-8">\n              <span id="lca-viz-cloud-region-value" class="fz-12">${e}</span>\n              <img src="${O}" alt="Sync icon" class="lcz-icon-16">\n            </div>\n          </p>\n          <p class="fz-16 lcz-mb-2"><b>Server Instance Type:</b> <br>\n            <div class="flex-center cg-8">\n              <span id="lca-viz-cloud-instance-value" class="fz-12">${n}</span>\n              <img src="${O}" alt="Sync icon" class="lcz-icon-16">\n            </div>\n          </p>\n          <p class="fz-16 lcz-mb-8"><b>Usage Duration:</b> <br>\n            <span id="lca-viz-cloud-usage-value" class="fz-12">Will your server instance be operating 24/7?</span>\n            <span class="lca-viz-asterisk">*</span>\n          </p>\n          <div class="lca-viz-yes-no-container fz-12 lcz-br-8">\n            <div class="lca-viz-yes-button">Yes</div>\n            <div class="lca-viz-no-button">No</div>\n          </div>\n          <div class="lca-viz-number-input-container lca-viz-hidden">\n            <label for="quantity"><p class="fz-12">How long will your server instance be operating per day? <span class="lca-viz-asterisk">*</span></p></label>\n            <input type="number" id="lca-viz-number-input" class="fz-12 lcz-br-8" name="quantity" min="1" max="24"> &nbsp;<span class="fz-12">hours a day</span>\n          </div>\n          <br>\n          <div class="lca-viz-calculate-container disabled lcz-br-8 pd-4">\n            <div class="flex-center lca-viz-calculate-btn">\n              <p class="fz-16 lcz-margin-8 lca-viz-calculate-btn-txt">Calculate</p>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  `}(U,D);H.insertAdjacentHTML("beforeend",e),setTimeout((()=>{H.classList.remove("lca-viz-hidden"),async function(){R.querySelector(".lca-viz-cloud-master-container").classList.remove("lcz-hidden-a"),H.focus(),await te(),w(R.querySelector(".lca-viz-cloud-info-container"),"a")}()}),0)}}function Y(){l((()=>{console.log("*****************OBSERVE FEDEX SHIPPING OPTIONS*****************"),Q()}))}async function Q(){let{fromAddress:e,toAddress:n,packageCount:i,packageWeight:t,currShippingOptions:s}=function(){let e=[];document.querySelectorAll(".fdx-c-definitionlist__description--small").forEach((n=>{e.push(n.outerText.toLowerCase().replace(/Â®/g,""))}));const n=document.getElementById("fromGoogleAddress"),i=n?n.value:null,t=document.getElementById("toGoogleAddress"),s=t?t.value:null,c=document.getElementById("package-details__quantity-0"),o=c?parseInt(c.value):null,a=document.querySelector("#package-details__weight-0 .fdx-c-form__input");let l=a?parseInt(a.value):null;const r=document.querySelector('select[data-e2e-id="selectMeasurement"]');if((r?r.value:null).includes("IMPERIAL")&&(l*=.453),i&&s&&o&&l)return{fromAddress:i,toAddress:s,packageCount:o,packageWeight:l,currShippingOptions:e}}();console.log("packageWeight: ",t);const c=t*i,o=await async function(e,n,i,t,s=!1){let c,o,a,l,r,d;if(s?(c=[""],o=[""]):({groundMode:c,airMode:o}=await async function(e,n,i){let t=[],s=[];var c;return console.log("shippingOptions: ",i),(await Promise.all(i.map((async i=>({option:i,mode:await async function(e,n,i){let t={"fedex express saver":"ground","fedex ground":"ground","fedex home delivery":"ground","fedex freight priority":"ground","fedex freight economy":"ground","fedex sameday freight":"air","fedex regional economy":"ground","fedex 1day freight":"air","fedex 2day freight":"air","fedex 3day freight":"air","fedex international priority express":"air","fedex international first":"air","fedex international next flight":"air","fedex international priority":"air","fedex international economy":"air","fedex international connect plus":"air","fedex international priority freight":"air","fedex international deferred freight":"air","fedex international economy freight":"air","fedex international ground":"air"}[e];if(t)return t;{let t;if("fedex sameday"===e||"fedex priority overnight"===e||"fedex priority"===e||"fedex priority express"===e||"fedex standard overnight"===e||"fedex first overnight"===e||"fedex first overnight freight"===e)t=6;else if("fedex 2day am"===e)t=12;else{if("fedex 2day"!==e)return null;t=18}try{const e=await fetch(f+"/api/travel-time",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:n,to:i})});return(await e.json()).rows[0].elements[0].duration.value/3600<t?"ground":"air"}catch(e){return console.error("Error in getFedexTransportMode:",e),null}}}(i,e,n)}))))).forEach((({option:e,mode:n})=>{"air"===n&&t.push(e),"ground"===n&&s.push(e)})),c=s,document.querySelectorAll(".fdx-c-definitionlist__description--small").forEach((e=>{const n=e.outerText.toLowerCase().replace(/Â®/g,"");if(c.includes(n)){const n=e.parentNode.parentNode.parentNode.parentNode.querySelector(".magr-c-rates__button"),i=` <div class="lca-viz-greenest-shipping lcz-mb-16"> ${n.outerHTML} <div class="flex-center lcz-br-4 pd-8 cg-8 green-shipping lca-viz-justify-center"> <img src="${z}" alt="Most eco friendly" class="lcz-icon-16"> <span>Most eco-friendly</span> </div> </div> `;n.outerHTML=i}})),{groundMode:s,airMode:t}}(e,n,t)),console.log("groundMode: ",c),c.length>0){const t=b(e,n,"ground",i);a=await h(t),console.log("freightGroundData: ",a),d=a?{co2eValue:parseFloat(a.co2e.toFixed(2)),groundMode:c}:null}if(o.length>0){const t=b(e,n,"air",i);l=await h(t),r=l?{co2eValue:parseFloat(l.co2e.toFixed(2)),airMode:o}:null}return{formatted:{from:e,to:n,air:r,ground:d},originalAir:l,originalGround:a}}(e,n,c,s);console.log("freightData: ",o),null!==R.querySelector(".freight-container")?(console.log("updating freight content popup....."),await async function(e){const n=R.querySelector(".freight-container"),i=R.querySelector(".lca-banner");n&&(i.remove(),n.remove(),await K("freight",e))}(o)):(console.log("injecting freight content popup....."),await K("freight",o)),s=[]}async function ee(e=""){const n=e?`lcz-loading-box-${e}`:"lcz-loading-box";let i=R.querySelector(`.${n}`);return i?new Promise((e=>{setTimeout((()=>{i.classList.add("lcz-hidden-a"),e()}),1500)})):(console.error(`${n} not found`),Promise.resolve())}n(["fedex.com","azure.com","amazon.com","bestbuy.com","apple.com","store.google.com","samsung.com","oppo.com","huawei.com","lenovo.com"])&&(window.popupInjected||(window.popupInjected=!0,new Promise((e=>{!function(){H=document.createElement("div"),H.setAttribute("role","main"),H.setAttribute("tabindex","0"),H.classList.add("lca-viz-master-lca"),H.classList.add("lcz-br-8"),H.classList.add("lca-viz-hidden"),document.body.append(H);const e=document.createElement("div");e.setAttribute("id","placeholder"),document.body.append(e),R=e.attachShadow({mode:"open"}),R.appendChild(H)}(),(async()=>{const i=(await chrome.storage.sync.get("autodetect")).autodetect||!1;await async function(e){const n=await fetch(e),i=await n.text(),t=document.createElement("style");t.textContent=i,R.appendChild(t)}(chrome.runtime.getURL("../assets/popup-content.css")),i&&(n(["fedex.com"])&&l((()=>{Q(),r(),d(),function(){const e=document.getElementById("fromGoogleAddress"),n=document.getElementById("toGoogleAddress"),i=()=>{const i=e.classList.contains("ng-valid"),t=n.classList.contains("ng-valid");i&&t&&(r(),d(),u())};p(e,i),p(n,i)}()})),await async function(){const e=function(e){const n=[{regex:/iPhone\s?13/i,model:"iPhone 13"},{regex:/iPhone\s?14\s?Pro/i,model:"iPhone 14 Pro"},{regex:/iPhone\s?14\s?Max/i,model:"iPhone 14 Max"},{regex:/iPhone\s?14/i,model:"iPhone 14"},{regex:/iPhone\s?15\s?Pro/i,model:"iPhone 15 Pro"},{regex:/iPhone\s?15\s?Max/i,model:"iPhone 15 Max"},{regex:/iPhone\s?15/i,model:"iPhone 15"},{regex:/iPhone\s?16\s?Pro/i,model:"iPhone 16 Pro"},{regex:/iPhone\s?16\s?Max/i,model:"iPhone 16 Max"},{regex:/iPhone\s?16/i,model:"iPhone 16"},{regex:/Galaxy\s?Z[\s-]?Flip6/i,model:"Samsung Galaxy Z Flip6"},{regex:/Galaxy\s?Z[\s-]?Flip5/i,model:"Samsung Galaxy Z Flip5"},{regex:/Galaxy\s?S24\s?Ultra/i,model:"Samsung Galaxy S24 Ultra"},{regex:/Galaxy\s?S23\s?Ultra/i,model:"Samsung Galaxy S23 Ultra"},{regex:/Galaxy\s?A14\s?5G/i,model:"Samsung Galaxy A14 5G"},{regex:/Galaxy\s?A14\s?4G/i,model:"Samsung Galaxy A14 4G"},{regex:/Galaxy\s?A34\s?5G/i,model:"Samsung Galaxy A34 5G"},{regex:/Galaxy\s?A04e/i,model:"Samsung Galaxy A04e"},{regex:/Oppo\s?Find\s?X5\s?Pro|Oppo\s?FindX5\s?Pro/i,model:"Oppo Find X5 Pro"},{regex:/Oppo\s?Reno\s?8\s?Pro|Oppo\s?Reno8\s?Pro/i,model:"Oppo Reno 8 Pro"},{regex:/Oppo\s?A16/i,model:"Oppo A16"},{regex:/Oppo\s?A54/i,model:"Oppo A54"},{regex:/Huawei\s?Mate\s?50\s?Pro|Huawei\s?Mate50\s?Pro/i,model:"Huawei Mate 50 Pro"},{regex:/Huawei\s?P50\s?Pro|Huawei\s?P50Pro/i,model:"Huawei P50 Pro"},{regex:/Huawei\s?Nova\s?10\s?Pro|Huawei\s?Nova10\s?Pro/i,model:"Huawei Nova 10 Pro"},{regex:/Lenovo\s?Legion\s?Phone\s?Duel\s?2|Lenovo\s?LegionDuel\s?2/i,model:"Lenovo Legion Phone Duel 2"},{regex:/Lenovo\s?K14\s?Plus|Lenovo\s?K14Plus/i,model:"Lenovo K14 Plus"},{regex:/Pixel\s?9\s?Pro\s?Fold/i,model:"Google Pixel 9 Pro Fold"},{regex:/Pixel\s?9\s?Pro/i,model:"Google Pixel 9 Pro"},{regex:/Pixel\s?9/i,model:"Google Pixel 9"},{regex:/Pixel\s?8\s?Pro/i,model:"Google Pixel 8 Pro"},{regex:/Pixel\s?8/i,model:"Google Pixel 8"},{regex:/Pixel\s?Fold/i,model:"Google Pixel Fold"},{regex:/Pixel\s?7\s?Pro/i,model:"Google Pixel 7 Pro"},{regex:/Pixel\s?7a/i,model:"Google Pixel 7a"},{regex:/Pixel\s?7/i,model:"Google Pixel 7"},{regex:/Pixel\s?6/i,model:"Google Pixel 6"},{regex:/Pixel\s?6a/i,model:"Google Pixel 6a"},{regex:/Pixel\s?6\s?Pro/i,model:"Google Pixel 6 Pro"},{regex:/Pixel\s?5a/i,model:"Google Pixel 5a"}];for(const{regex:i,model:t}of n)if(i.test(e))return console.log(`${t} detected!!!!!!!!!!!!!!!`),t;return console.log("Phone model not detected"),null}(document.title);if(e&&n(["amazon.com","bestbuy.com","apple.com","store.google.com","samsung.com","oppo.com","huawei.com","lenovo.com"]))try{j=await async function(e){const n={product_name:e};try{const e=await fetch(o+"/api/product-emissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});let i;return e.ok?i=await e.json():(i=null,console.error("Error analyzing phone carbon emissions")),i}catch(e){console.error("Error analyzing phone carbon emissions: "+e)}}(e),_=await async function(e){const n={product_name:e};try{const e=await fetch(o+"/api/product-recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});let i;return e.ok?i=await e.json():(i=null,console.error("Error analyzing phone carbon emissions")),i}catch(e){console.error(e)}}(j.device),await K("phone")}catch(e){console.error(e)}}(),n(["azure.com"])&&(function(e){const n=window.location.hash;"#create/Microsoft.VirtualMachine-ARM"!==n&&"#create/Microsoft.VirtualMachine"!==n||e()}(Z),window.navigation.addEventListener("navigate",(()=>{"https://portal.azure.com/#browse/Microsoft.Compute%2FVirtualMachines"===window.location.href&&Z()})))),e()})()}))));const ne=()=>ee(),ie=()=>ee("2"),te=()=>ee("3")})();