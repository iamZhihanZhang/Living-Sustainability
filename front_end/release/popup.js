!function(){let t,e;function o(o,c,s,a){const d=document.getElementById(c),u=document.getElementById(o);r(d,u,s),u.addEventListener("click",(()=>{r(d,u,s=!s),"brush"===a?(t=s,chrome.storage.sync.set({brush:t}),n("brush",t)):"autodetect"===a&&(e=s,chrome.storage.sync.set({autodetect:e}),n("autodetect",e))}))}function n(t,e){chrome.tabs.query({active:!0,currentWindow:!0},(o=>{chrome.tabs.sendMessage(o[0].id,{feature:t,state:e},(()=>{chrome.tabs.reload(o[0].id)}))}))}function r(t,e,o){o?(t.style.backgroundColor="white",e.style.backgroundColor="rgb(138,180,145)",e.style.background="linear-gradient(90deg, rgba(138,180,145,1) 0%, rgba(152,196,161,1) 100%)",t.style.transform="translateX(23px)"):(t.style.backgroundColor="#909090",e.style.background="#F0F0F0",t.style.transform="translateX(0)")}window.addEventListener("load",(async function(){document.querySelector(".lca-viz-close-button-small").addEventListener("click",(()=>{window.close()}));const n=await chrome.storage.sync.get(["brush","autodetect"]);t=n.brush||!1,e=n.autodetect||!1,o("toggle1","switch1",t,"brush"),o("toggle2","switch2",e,"autodetect")}))}();